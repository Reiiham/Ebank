import './polyfills.server.mjs';
import{a as A,b as dt}from"./chunk-QKOS63ZX.mjs";import{$ as St,$a as oe,$b as q,A as F,Aa as at,B as ne,Ba as lt,Cb as ct,Cc as Ge,D as yt,Da as T,Dc as R,Ec as Q,Fa as wt,Ga as h,H as g,Ha as p,I as f,Ib as Ot,Jb as O,M as Re,O as rt,Ob as Be,Pb as w,R as ve,Ra as a,Sa as M,Ta as S,Ub as se,Wa as C,Wb as ae,Xa as _,Ya as b,Zb as Tt,_b as It,aa as st,ab as re,ac as je,c as Y,ca as l,cb as Fe,cc as N,da as Mt,dc as le,eb as Ve,ec as Et,g as _t,ga as u,gc as D,hc as ce,ia as y,ic as Le,ja as ie,jc as E,kc as G,l as bt,m as ke,ma as x,mc as P,nc as H,oa as Ae,oc as de,pa as Ce,pc as V,qa as m,qc as W,ra as _e,rc as Z,sa as K,sc as Pt,ta as U,tc as qe,uc as He,vc as We,w as Ne,wc as ze,x as L,xa as s,xc as Ue,y as te,ya as o,z as xt,za as v,zc as me}from"./chunk-2QIJUV5J.mjs";import{a as k,b as ee}from"./chunk-S6KH3LOX.mjs";var jt=n=>["clients",n],Lt=n=>["clients",n,"edit"],qt=n=>["clients",n,"add-account"],Ht=n=>["clients",n,"status"],Wt=n=>["clients",n,"delete"];function zt(n,i){if(n&1&&(s(0,"ul")(1,"li")(2,"a",8),v(3,"i",9),a(4," Voir les D\xE9tails "),o()(),s(5,"li")(6,"a",8),v(7,"i",10),a(8," Modifier "),o()(),s(9,"li")(10,"a",8),v(11,"i",11),a(12," Ajouter un Compte "),o()(),s(13,"li")(14,"a",8),v(15,"i",12),a(16," Statut "),o()(),s(17,"li")(18,"a",8),v(19,"i",13),a(20," Supprimer "),o()()()),n&2){let e=p();l(2),m("routerLink",re(5,jt,e.clientId)),l(4),m("routerLink",re(7,Lt,e.clientId)),l(4),m("routerLink",re(9,qt,e.clientId)),l(4),m("routerLink",re(11,Ht,e.clientId)),l(4),m("routerLink",re(13,Wt,e.clientId))}}var Ye=class n{constructor(i){this.router=i;this.router.events.pipe(bt(e=>e instanceof It)).subscribe(()=>{let e=this.router.url.match(/clients\/([^/]+)/);this.clientId=e?e[1]:null})}clientId=null;get isCreatingClient(){return this.router.url.includes("/clients/create")}static \u0275fac=function(e){return new(e||n)(u(N))};static \u0275cmp=y({type:n,selectors:[["app-sidebar"]],decls:17,vars:1,consts:[[1,"sidebar"],["routerLink","./","routerLinkActive","active"],[1,"fas","fa-home"],["routerLink","clients","routerLinkActive","active"],[1,"fas","fa-users"],["routerLink","clients/create","routerLinkActive","active"],[1,"fas","fa-user-plus"],[4,"ngIf"],["routerLinkActive","active",3,"routerLink"],[1,"fas","fa-file-alt"],[1,"fas","fa-pen"],[1,"fas","fa-university"],[1,"fas","fa-toggle-on"],[1,"fas","fa-trash"]],template:function(e,t){e&1&&(s(0,"aside",0)(1,"nav")(2,"ul")(3,"li")(4,"a",1),v(5,"i",2),a(6," Tableau de Bord "),o()(),s(7,"li")(8,"a",3),v(9,"i",4),a(10," Liste des Clients "),o()(),s(11,"li")(12,"a",5),v(13,"i",6),a(14," Cr\xE9er un Client "),o()()(),v(15,"hr"),x(16,zt,21,15,"ul",7),o()()),e&2&&(l(16),m("ngIf",t.clientId&&!t.isCreatingClient))},dependencies:[w,O,D,le,Et],styles:[".sidebar[_ngcontent-%COMP%]{width:260px;background-color:#1e3a8a;color:#f8fafc;min-height:100vh;padding:2rem 1rem;font-family:Segoe UI,sans-serif;position:fixed;top:0;left:0;overflow-y:auto;box-shadow:4px 0 12px #0000001a;transition:all .3s ease;z-index:1000;display:flex;flex-direction:column}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]{flex:1}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:1rem}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center;font-size:1.1rem}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;text-decoration:none;color:#f1f5f9;font-size:1rem;padding:.6rem 1rem;border-radius:8px;transition:all .25s ease;position:relative}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#1e293b;color:#fff;transform:translate(5px)}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;font-weight:700;box-shadow:inset 4px 0 #60a5fa}.sidebar[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border:none;border-top:1px solid #334155;margin:1.5rem 0}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:100%;position:relative;min-height:auto;padding:1rem;box-shadow:none}.sidebar[_ngcontent-%COMP%]   nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.95rem;padding:.5rem}}"]})};var be=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-layout"]],decls:4,vars:0,consts:[[1,"layout"]],template:function(e,t){e&1&&(s(0,"div",0),v(1,"app-sidebar"),s(2,"main"),v(3,"router-outlet"),o()())},dependencies:[w,D,je,Ye],styles:[".layout[_ngcontent-%COMP%]{display:flex;min-height:100vh;background-color:#f8fafc}main[_ngcontent-%COMP%]{flex:1;margin-left:260px;padding:2rem;transition:margin-left .3s ease}@media (max-width: 768px){.layout[_ngcontent-%COMP%]{flex-direction:column}main[_ngcontent-%COMP%]{margin-left:0;padding:1rem}.sidebar[_ngcontent-%COMP%]{position:relative;width:100%;box-shadow:none;min-height:auto}}"]})};var Ut=()=>["/employee/transactions"],Gt=()=>["/employee/clients"],xe=class n{constructor(i){this.clientService=i}clientCount=0;accountCount=0;ngOnInit(){this.clientService.getClientCount().subscribe(i=>this.clientCount=i),this.clientService.getAccountCount().subscribe(i=>this.accountCount=i)}static \u0275fac=function(e){return new(e||n)(u(A))};static \u0275cmp=y({type:n,selectors:[["app-dashboard"]],decls:33,vars:6,consts:[[1,"dashboard-container"],[1,"dashboard-title"],[1,"stats-grid","top-row"],[1,"stat-card"],[1,"icon-circle"],[1,"fas","fa-user"],[1,"stat-info"],[1,"fas","fa-credit-card"],[1,"stats-grid","bottom-row"],[1,"stat-card","square-card","link-card",3,"routerLink"],[1,"fas","fa-money-bill-transfer"],[1,"fas","fa-search"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h1",1),a(2,"Tableau de Bord"),o(),s(3,"div",2)(4,"div",3)(5,"div",4),v(6,"i",5),o(),s(7,"div",6)(8,"h2"),a(9,"Clients"),o(),s(10,"p"),a(11),o()()(),s(12,"div",3)(13,"div",4),v(14,"i",7),o(),s(15,"div",6)(16,"h2"),a(17,"Comptes"),o(),s(18,"p"),a(19),o()()()(),s(20,"div",8)(21,"div",9)(22,"div",4),v(23,"i",10),o(),s(24,"div",6)(25,"h2"),a(26,"Effectuer une transaction"),o()()(),s(27,"div",9)(28,"div",4),v(29,"i",11),o(),s(30,"div",6)(31,"h2"),a(32,"Trouver un client"),o()()()()()),e&2&&(l(11),M(t.clientCount),l(8),M(t.accountCount),l(2),m("routerLink",oe(4,Ut)),l(6),m("routerLink",oe(5,Gt)))},dependencies:[w,D,le],styles:[".dashboard-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:30px 20px;font-family:Roboto,sans-serif}.dashboard-title[_ngcontent-%COMP%]{font-size:28px;margin-bottom:30px;color:#1e3a8a;text-align:center}.top-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:30px}.bottom-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px}.square-card[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center;text-align:center;aspect-ratio:1 / 1;padding:30px 20px}.square-card[_ngcontent-%COMP%]   .icon-circle[_ngcontent-%COMP%]{margin:0 0 20px;width:70px;height:70px;font-size:30px;padding:20px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px}.stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;background:#fff;padding:20px;border-radius:12px;box-shadow:0 4px 10px #0000001a;transition:transform .3s}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.icon-circle[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1e3a8a);color:#fff;border-radius:50%;padding:16px;font-size:24px;margin-right:20px;display:flex;align-items:center;justify-content:center}.stat-info[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#1e3a8a}.stat-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:24px;font-weight:700;margin:5px 0 0;color:#3b82f6}"]})};var Ze=class n{constructor(i){this.http=i}baseUrl=`${ce.apiUrl}/employee`;getAuthHeaders(){let i=localStorage.getItem("authToken")||sessionStorage.getItem("authToken")||localStorage.getItem("token");console.log("\u{1F511} ServiceManager Token found:",i?"YES":"NO"),console.log("\u{1F511} Token from localStorage authToken:",localStorage.getItem("authToken")?"YES":"NO"),console.log("\u{1F511} Token from sessionStorage authToken:",sessionStorage.getItem("authToken")?"YES":"NO"),console.log("\u{1F511} Token from localStorage token:",localStorage.getItem("token")?"YES":"NO");let e=new se({"Content-Type":"application/json"});return i?(e=e.set("Authorization",`Bearer ${i}`),console.log("\u{1F511} Authorization header set with token")):console.error("\u{1F6A8} NO TOKEN FOUND - Request will fail"),e}handleError=(i="operation")=>e=>(console.error(`\u274C ServiceManager ${i} failed:`,e),console.error(`\u274C Error status: ${e.status}`),console.error(`\u274C Error message: ${e.message}`),console.error("\u274C Error body:",e.error),e.status===401&&(console.error("\u{1F6A8} UNAUTHORIZED - Token might be invalid"),localStorage.removeItem("token"),localStorage.removeItem("authToken"),sessionStorage.removeItem("authToken")),_t(()=>e));activateServices(i){console.log("\u{1F527} Calling activateServices() with data:",i),console.log("\u{1F527} Data type:",typeof i),console.log("\u{1F527} Data JSON:",JSON.stringify(i,null,2));let e=`${this.baseUrl}/clients/activer-services`;console.log("\u{1F310} URL:",e);let t=this.getAuthHeaders();return console.log("\u{1F310} Headers:",t.keys()),this.http.post(e,i,{headers:t,responseType:"text"}).pipe(Ne(r=>{console.log("\u2705 Activate services SUCCESS:",r),console.log("\u2705 Result type:",typeof r)}),ke(this.handleError("activateServices")))}suspendServices(i,e){console.log("\u23F8\uFE0F Calling suspendServices() for client:",i,"with data:",e);let t=`${this.baseUrl}/clients/${i}/suspend-services`;return console.log("\u{1F310} URL:",t),this.http.put(t,e,{headers:this.getAuthHeaders(),responseType:"text"}).pipe(Ne(r=>console.log("\u2705 Suspend services result:",r)),ke(this.handleError("suspendServices")))}reactivateServices(i,e){console.log("\u25B6\uFE0F Calling reactivateServices() for client:",i,"services:",e);let t=`${this.baseUrl}/clients/${i}/reactivate-services`;return console.log("\u{1F310} URL:",t),this.http.put(t,e,{headers:this.getAuthHeaders(),responseType:"text"}).pipe(Ne(r=>console.log("\u2705 Reactivate services result:",r)),ke(this.handleError("reactivateServices")))}static \u0275fac=function(e){return new(e||n)(F(ae))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function Zt(n,i){if(n&1&&(s(0,"div")(1,"p")(2,"strong"),a(3,"\u{1F4B0} Solde :"),o(),a(4),Fe(5,"currency"),o()()),n&2){let e=p(2);l(4),S(" ",Ve(5,1,e.client.accounts[0].balance,"MAD"),"")}}function Qt(n,i){if(n&1&&(s(0,"div",8)(1,"p")(2,"strong"),a(3,"\u{1F464} Nom :"),o(),a(4),o(),s(5,"p")(6,"strong"),a(7,"\u{1F194} ID :"),o(),a(8),o(),x(9,Zt,6,4,"div",9),o()),n&2){let e=p();l(4),S(" ",e.client.fullName,""),l(4),S(" ",e.client.clientId,""),l(),m("ngIf",e.client.accounts==null?null:e.client.accounts.length)}}function Jt(n,i){if(n&1&&(s(0,"div",10),a(1),o()),n&2){let e=p();l(),M(e.message)}}function Kt(n,i){if(n&1&&(s(0,"div",11),a(1),o()),n&2){let e=p();l(),M(e.error)}}function Xt(n,i){if(n&1){let e=T();s(0,"button",5),h("click",function(){let r=g(e).$implicit,c=p(2);return f(c.toggleService(r,c.newServices))}),a(1),o()}if(n&2){let e=i.$implicit,t=p(2);K("selected",t.newServices.includes(e)),l(),S(" ",e," ")}}function $t(n,i){if(n&1){let e=T();s(0,"div",12)(1,"h4"),a(2,"Choisir des services \xE0 activer"),o(),s(3,"div",13),x(4,Xt,2,3,"button",14),o(),s(5,"button",15),h("click",function(){g(e);let r=p();return f(r.activate())}),a(6,"Activer les Services"),o()()}if(n&2){let e=p();l(4),m("ngForOf",e.availableServices)}}function en(n,i){if(n&1){let e=T();s(0,"button",5),h("click",function(){let r=g(e).$implicit,c=p(2);return f(c.toggleService(r,c.suspendedServices))}),a(1),o()}if(n&2){let e=i.$implicit,t=p(2);K("selected",t.suspendedServices.includes(e)),l(),S(" ",e," ")}}function tn(n,i){if(n&1){let e=T();s(0,"div",12)(1,"h4"),a(2,"Services \xE0 suspendre"),o(),s(3,"textarea",16),b("ngModelChange",function(r){g(e);let c=p();return _(c.suspensionReason,r)||(c.suspensionReason=r),f(r)}),o(),s(4,"textarea",17),b("ngModelChange",function(r){g(e);let c=p();return _(c.suspensionMessage,r)||(c.suspensionMessage=r),f(r)}),o(),s(5,"div",13),x(6,en,2,3,"button",14),o(),s(7,"button",18),h("click",function(){g(e);let r=p();return f(r.suspend())}),a(8,"Suspendre"),o()()}if(n&2){let e=p();l(3),C("ngModel",e.suspensionReason),l(),C("ngModel",e.suspensionMessage),l(2),m("ngForOf",e.availableServices)}}function nn(n,i){if(n&1){let e=T();s(0,"button",5),h("click",function(){let r=g(e).$implicit,c=p(2);return f(c.toggleService(r,c.reactivatedServices))}),a(1),o()}if(n&2){let e=i.$implicit,t=p(2);K("selected",t.reactivatedServices.includes(e)),l(),S(" ",e," ")}}function on(n,i){if(n&1){let e=T();s(0,"div",12)(1,"h4"),a(2,"Services \xE0 r\xE9activer"),o(),s(3,"div",13),x(4,nn,2,3,"button",14),o(),s(5,"button",19),h("click",function(){g(e);let r=p();return f(r.reactivate())}),a(6,"R\xE9activer"),o()()}if(n&2){let e=p();l(4),m("ngForOf",e.availableServices)}}var ye=class n{constructor(i,e,t){this.route=i;this.clientService=e;this.serviceManager=t;console.log("\u{1F50D} ClientDetailsComponent constructor called")}client;clientId="";message="";error="";isLoading=!1;activeTab="activer";availableServices=["VIREMENT","PAIEMENTS_EN_LIGNE","CONSULTATION_SOLDE","HISTORIQUE_TRANSACTIONS","CHEQUIER","BLOQUER_CARTE","PRET_PERSONNEL","EPARGNE","INVESTISSEMENT","ALERTES","FACTURES","MULTIDEVISES","SERVICE_CLIENT","MESSAGERIE_SECURIS\xC9E"];newServices=[];suspendedServices=[];reactivatedServices=[];suspensionReason="";suspensionMessage="";ngOnInit(){console.log("\u{1F50D} ClientDetailsComponent ngOnInit started");let i=localStorage.getItem("authToken")||sessionStorage.getItem("authToken");console.log("\u{1F50D} Token in ClientDetails ngOnInit:",i?"EXISTS":"MISSING");let e=this.route.snapshot.paramMap.get("id");console.log("\u{1F50D} Route param ID:",e),e?(this.clientId=e,this.isLoading=!0,console.log("\u{1F50D} About to call clientService.getClientById"),this.clientService.getClientById(e).subscribe({next:t=>{console.log("\u2705 getClientById SUCCESS:",t),this.client=t},error:t=>{console.error("\u274C getClientById ERROR:",t),console.error("\u274C Error status:",t.status),console.error("\u274C Error message:",t.message),(t.status===401||t.status===403)&&console.error("\u{1F6A8} AUTHENTICATION ERROR - This might trigger logout"),this.error="Erreur lors du chargement du client."},complete:()=>{console.log("\u{1F50D} getClientById completed"),this.isLoading=!1}})):console.error("\u274C No client ID found in route params")}get isEligible(){if(!this.client)return!1;let i=this.client.compteBloque===null||this.client.compteBloque===!1,e=this.client.documentsComplets===null||this.client.documentsComplets===!0;return i&&e}toggleService(i,e){let t=e.indexOf(i);t>-1?e.splice(t,1):e.push(i)}activate(){console.log("\u{1F6A8} ACTIVATE METHOD CALLED"),this.clearMessages(),console.log("\u{1F50D} Activate method called"),console.log("\u{1F50D} Client data:",this.client),console.log("\u{1F50D} Client ID:",this.clientId);let i=localStorage.getItem("authToken")||sessionStorage.getItem("authToken")||localStorage.getItem("token");console.log("\u{1F511} Token check in activate method:",i?"EXISTS":"MISSING"),this.clientService.getClientById(this.clientId).subscribe({next:e=>{if(console.log("\u{1F504} Client reloaded:",e),this.client=e,console.log("\u{1F50D} About to check isEligible..."),console.log("\u{1F50D} isEligible value:",this.isEligible),!this.isEligible){console.log("\u274C NOT ELIGIBLE - Setting error message"),this.error="Le client est bloqu\xE9 ou n'a pas tous les documents complets.";return}if(console.log("\u2705 Client is eligible, checking services..."),this.newServices.length===0){console.log("\u274C No services selected"),this.error="Veuillez s\xE9lectionner des services \xE0 activer.";return}console.log("\u{1F50D} Services to activate:",this.newServices);let t={clientId:this.clientId,services:this.newServices};console.log("\u{1F50D} Request payload:",JSON.stringify(t,null,2)),console.log("\u{1F50D} Request type check:"),console.log("  - clientId type:",typeof t.clientId),console.log("  - services type:",typeof t.services),console.log("  - services is array:",Array.isArray(t.services)),this.isLoading=!0,console.log("\u{1F680} About to call serviceManager.activateServices..."),this.serviceManager.activateServices(t).subscribe({next:r=>{console.log("\u2705 Services activated successfully"),console.log("\u2705 Response:",r),console.log("\u2705 Response type:",typeof r),this.message=r||"Services activ\xE9s avec succ\xE8s.",this.newServices=[]},error:r=>{console.error("\u274C activateServices ERROR:",r),console.error("\u274C Full error object:",JSON.stringify(r,null,2)),console.error("\u274C Error details:",{status:r.status,statusText:r.statusText,message:r.message,error:r.error,url:r.url,name:r.name});let c="Erreur lors de l'activation";switch(r.status){case 0:c+=" - Probl\xE8me de connexion au serveur";break;case 400:c+=" - Donn\xE9es invalides",r.error?.message&&(c+=`: ${r.error.message}`);break;case 401:c+=" - Non autoris\xE9 (token invalide)";break;case 403:c+=" - Acc\xE8s refus\xE9";break;case 404:c+=" - Service non trouv\xE9";break;case 500:c+=" - Erreur serveur interne";break;default:c+=` - Code erreur: ${r.status}`,r.error?.message&&(c+=`: ${r.error.message}`)}this.error=c},complete:()=>{console.log("\u{1F50D} activateServices completed"),this.isLoading=!1}})},error:e=>{console.error("\u274C Reload client ERROR:",e),console.error("\u274C Reload error details:",{status:e.status,statusText:e.statusText,message:e.message,error:e.error}),this.error="Impossible de v\xE9rifier les statuts du client.",this.isLoading=!1}})}suspend(){if(this.clearMessages(),this.suspendedServices.length===0){this.error="Veuillez s\xE9lectionner des services \xE0 suspendre.";return}let i={servicesToSuspend:this.suspendedServices,reason:this.suspensionReason,notificationMessage:this.suspensionMessage};this.isLoading=!0,this.serviceManager.suspendServices(this.clientId,i).subscribe({next:()=>this.message="Services suspendus avec succ\xE8s.",error:e=>{console.error("\u274C suspendServices ERROR:",e),this.error="Erreur lors de la suspension."},complete:()=>this.isLoading=!1})}reactivate(){if(this.clearMessages(),this.reactivatedServices.length===0){this.error="Veuillez s\xE9lectionner des services \xE0 r\xE9activer.";return}this.isLoading=!0,this.serviceManager.reactivateServices(this.clientId,this.reactivatedServices).subscribe({next:()=>this.message="Services r\xE9activ\xE9s avec succ\xE8s.",error:i=>{console.error("\u274C reactivateServices ERROR:",i),this.error="Erreur lors de la r\xE9activation."},complete:()=>this.isLoading=!1})}clearMessages(){this.message="",this.error=""}static \u0275fac=function(e){return new(e||n)(u(q),u(A),u(Ze))};static \u0275cmp=y({type:n,selectors:[["app-client-details"]],decls:17,vars:12,consts:[[1,"client-details-container"],["class","client-info",4,"ngIf"],["class","alert success",4,"ngIf"],["class","alert error",4,"ngIf"],[1,"tabs"],[3,"click"],[1,"tab-content"],["class","service-group",4,"ngIf"],[1,"client-info"],[4,"ngIf"],[1,"alert","success"],[1,"alert","error"],[1,"service-group"],[1,"service-grid"],[3,"selected","click",4,"ngFor","ngForOf"],[1,"primary",3,"click"],["placeholder","Raison de suspension",3,"ngModelChange","ngModel"],["placeholder","Message au client",3,"ngModelChange","ngModel"],[1,"warning",3,"click"],[1,"success",3,"click"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h2"),a(2,"D\xE9tails du Client"),o(),x(3,Qt,10,3,"div",1)(4,Jt,2,1,"div",2)(5,Kt,2,1,"div",3),s(6,"div",4)(7,"button",5),h("click",function(){return t.activeTab="activer"}),a(8,"\u2705 Activer"),o(),s(9,"button",5),h("click",function(){return t.activeTab="suspendre"}),a(10,"\u26D4 Suspendre"),o(),s(11,"button",5),h("click",function(){return t.activeTab="reactiver"}),a(12,"\u267B\uFE0F R\xE9activer"),o()(),s(13,"div",6),x(14,$t,7,1,"div",7)(15,tn,9,3,"div",7)(16,on,7,1,"div",7),o()()),e&2&&(l(3),m("ngIf",t.client),l(),m("ngIf",t.message),l(),m("ngIf",t.error),l(2),K("active",t.activeTab==="activer"),l(2),K("active",t.activeTab==="suspendre"),l(2),K("active",t.activeTab==="reactiver"),l(3),m("ngIf",t.activeTab==="activer"),l(),m("ngIf",t.activeTab==="suspendre"),l(),m("ngIf",t.activeTab==="reactiver"))},dependencies:[w,Ot,O,Be,R,E,P,V],styles:[".client-details-container[_ngcontent-%COMP%]{background-color:#f8fafc;padding:30px;display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:100vh;text-align:center}.client-info[_ngcontent-%COMP%]{background:linear-gradient(to right,#fff,#f9fafb);border-radius:16px;padding:28px 32px;box-shadow:0 10px 30px #0000000f;margin-bottom:30px;font-family:Segoe UI,sans-serif;color:#1e3a8a;max-width:500px;width:100%;transition:transform .2s ease}.client-info[_ngcontent-%COMP%]:hover{transform:translateY(-4px)}.client-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:10px 0;display:flex;align-items:center;gap:8px;color:#0f172a}h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{font-size:28px;margin-bottom:30px;color:#1e3a8a;text-align:center}.account-table[_ngcontent-%COMP%]{border-collapse:separate;border-spacing:0 8px;background-color:transparent;margin:0 auto;width:auto}.account-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .account-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:14px 20px;text-align:left;font-size:15px}.account-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#e0edff;color:#1e3a8a;font-weight:600;border-radius:8px}.account-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:#fff;color:#374151;border-radius:8px;box-shadow:0 1px 4px #0000000a;transition:transform .2s ease}.account-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%]{transform:translateY(-2px);background-color:#f0f8ff}.tabs[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin:2rem 0 1rem}.tabs[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;border:2px solid #cbd5e1;border-radius:10px;font-size:15px;padding:10px 24px;font-weight:700;cursor:pointer;transition:all .3s ease;color:#1e3a8a}.tabs[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background-color:#2563eb;border-color:#2563eb;color:#fff}.service-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:center;margin:20px 0}.service-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 24px;background-color:#f0f4ff;border:2px solid #c7d2fe;border-radius:10px;cursor:pointer;font-weight:600;transition:.3s ease;color:#1e40af;white-space:nowrap;word-break:break-word;text-align:center;min-height:50px;min-width:180px;box-shadow:0 2px 4px #0000000d}.service-grid[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#e0e7ff;border-color:#a5b4fc}.service-grid[_ngcontent-%COMP%]   button.selected[_ngcontent-%COMP%]{background-color:#7fa0d2;color:#fff;border-color:#738ac4;box-shadow:0 2px 6px #4f46e54d}textarea[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;padding:10px;font-family:inherit;border-radius:8px;border:1px solid #d1d5db;background-color:#f9fafb;font-size:15px}button.primary[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff}button.warning[_ngcontent-%COMP%]{background-color:#f59e0b;color:#fff}button.success[_ngcontent-%COMP%]{background-color:#10b981;color:#fff}button.primary[_ngcontent-%COMP%], button.warning[_ngcontent-%COMP%], button.success[_ngcontent-%COMP%]{padding:10px 20px;border-radius:6px;border:none;margin-top:10px;font-weight:700;cursor:pointer;transition:background-color .2s ease}.alert[_ngcontent-%COMP%]{padding:10px;border-radius:6px;margin:10px 0}.alert.success[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.alert.error[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}body[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif;background-color:#f1f5f9;color:#1f2937;margin:0;padding:0}"]})};var $=function(n){return n[n.State=0]="State",n[n.Transition=1]="Transition",n[n.Sequence=2]="Sequence",n[n.Group=3]="Group",n[n.Animate=4]="Animate",n[n.Keyframes=5]="Keyframes",n[n.Style=6]="Style",n[n.Trigger=7]="Trigger",n[n.Reference=8]="Reference",n[n.AnimateChild=9]="AnimateChild",n[n.AnimateRef=10]="AnimateRef",n[n.Query=11]="Query",n[n.Stagger=12]="Stagger",n}($||{});function mt(n,i){return{type:$.Trigger,name:n,definitions:i,options:{}}}function Qe(n,i=null){return{type:$.Animate,styles:i,timings:n}}function Se(n){return{type:$.Style,styles:n,offset:null}}function Me(n,i,e){return{type:$.State,name:n,styles:i,options:e}}function Je(n,i,e=null){return{type:$.Transition,expr:n,animation:i,options:e}}var kt=["toast-component",""];function rn(n,i){if(n&1){let e=T();s(0,"button",5),h("click",function(){g(e);let r=p();return f(r.remove())}),s(1,"span",6),a(2,"\xD7"),o()()}}function sn(n,i){if(n&1&&(at(0),a(1),lt()),n&2){let e=p(2);l(),S("[",e.duplicatesCount+1,"]")}}function an(n,i){if(n&1&&(s(0,"div"),a(1),x(2,sn,2,1,"ng-container",4),o()),n&2){let e=p();U(e.options.titleClass),Ce("aria-label",e.title),l(),S(" ",e.title," "),l(),m("ngIf",e.duplicatesCount)}}function ln(n,i){if(n&1&&v(0,"div",7),n&2){let e=p();U(e.options.messageClass),m("innerHTML",e.message,st)}}function cn(n,i){if(n&1&&(s(0,"div",8),a(1),o()),n&2){let e=p();U(e.options.messageClass),Ce("aria-label",e.message),l(),S(" ",e.message," ")}}function dn(n,i){if(n&1&&(s(0,"div"),v(1,"div",9),o()),n&2){let e=p();l(),_e("width",e.width()+"%")}}function mn(n,i){if(n&1){let e=T();s(0,"button",5),h("click",function(){g(e);let r=p();return f(r.remove())}),s(1,"span",6),a(2,"\xD7"),o()()}}function pn(n,i){if(n&1&&(at(0),a(1),lt()),n&2){let e=p(2);l(),S("[",e.duplicatesCount+1,"]")}}function un(n,i){if(n&1&&(s(0,"div"),a(1),x(2,pn,2,1,"ng-container",4),o()),n&2){let e=p();U(e.options.titleClass),Ce("aria-label",e.title),l(),S(" ",e.title," "),l(),m("ngIf",e.duplicatesCount)}}function gn(n,i){if(n&1&&v(0,"div",7),n&2){let e=p();U(e.options.messageClass),m("innerHTML",e.message,st)}}function fn(n,i){if(n&1&&(s(0,"div",8),a(1),o()),n&2){let e=p();U(e.options.messageClass),Ce("aria-label",e.message),l(),S(" ",e.message," ")}}function hn(n,i){if(n&1&&(s(0,"div"),v(1,"div",9),o()),n&2){let e=p();l(),_e("width",e.width()+"%")}}var pt=class{_attachedHost;component;viewContainerRef;injector;constructor(i,e){this.component=i,this.injector=e}attach(i,e){return this._attachedHost=i,i.attach(this,e)}detach(){let i=this._attachedHost;if(i)return this._attachedHost=void 0,i.detach()}get isAttached(){return this._attachedHost!=null}setAttachedHost(i){this._attachedHost=i}},ut=class{_attachedPortal;_disposeFn;attach(i,e){return this._attachedPortal=i,this.attachComponentPortal(i,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(i){this._disposeFn=i}},gt=class{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new Y;_activate=new Y;_manualClose=new Y;_resetTimeout=new Y;_countDuplicate=new Y;constructor(i){this._overlayRef=i}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(i,e){i&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}},ge=class{toastId;config;message;title;toastType;toastRef;_onTap=new Y;_onAction=new Y;constructor(i,e,t,r,c,d){this.toastId=i,this.config=e,this.message=t,this.title=r,this.toastType=c,this.toastRef=d,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(i){this._onAction.next(i)}onAction(){return this._onAction.asObservable()}},Nt={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing"},Rt=new xt("ToastConfig"),ft=class extends ut{_hostDomElement;_componentFactoryResolver;_appRef;constructor(i,e,t){super(),this._hostDomElement=i,this._componentFactoryResolver=e,this._appRef=t}attachComponentPortal(i,e){let t=this._componentFactoryResolver.resolveComponentFactory(i.component),r;return r=t.create(i.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(i){return i.hostView.rootNodes[0]}},vn=(()=>{class n{_document=ne(ct);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ht=class{_portalHost;constructor(i){this._portalHost=i}attach(i,e=!0){return this._portalHost.attach(i,e)}detach(){return this._portalHost.detach()}},Cn=(()=>{class n{_overlayContainer=ne(vn);_componentFactoryResolver=ne(Mt);_appRef=ne(Ae);_document=ne(ct);_paneElements=new Map;create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){let r=this._document.createElement("div");return r.id="toast-container",r.classList.add(e),r.classList.add("toast-container"),t?t.getContainerElement().appendChild(r):this._overlayContainer.getContainerElement().appendChild(r),r}_createPortalHost(e){return new ft(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new ht(this._createPortalHost(e))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),B=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(e,t,r,c,d){this.overlay=t,this._injector=r,this.sanitizer=c,this.ngZone=d,this.toastrConfig=k(k({},e.default),e.config),e.config.iconClasses&&(this.toastrConfig.iconClasses=k(k({},e.default.iconClasses),e.config.iconClasses))}show(e,t,r={},c=""){return this._preBuildNotification(c,e,t,this.applyConfig(r))}success(e,t,r={}){let c=this.toastrConfig.iconClasses.success||"";return this._preBuildNotification(c,e,t,this.applyConfig(r))}error(e,t,r={}){let c=this.toastrConfig.iconClasses.error||"";return this._preBuildNotification(c,e,t,this.applyConfig(r))}info(e,t,r={}){let c=this.toastrConfig.iconClasses.info||"";return this._preBuildNotification(c,e,t,this.applyConfig(r))}warning(e,t,r={}){let c=this.toastrConfig.iconClasses.warning||"";return this._preBuildNotification(c,e,t,this.applyConfig(r))}clear(e){for(let t of this.toasts)if(e!==void 0){if(t.toastId===e){t.toastRef.manualClose();return}}else t.toastRef.manualClose()}remove(e){let t=this._findToast(e);if(!t||(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){let r=this.toasts[this.currentlyActive].toastRef;r.isInactive()||(this.currentlyActive=this.currentlyActive+1,r.activate())}return!0}findDuplicate(e="",t="",r,c){let{includeTitleDuplicates:d}=this.toastrConfig;for(let J of this.toasts){let De=d&&J.title===e;if((!d||De)&&J.message===t)return J.toastRef.onDuplicate(r,c),J}return null}applyConfig(e={}){return k(k({},this.toastrConfig),e)}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,r,c){return c.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,r,c)):this._buildNotification(e,t,r,c)}_buildNotification(e,t,r,c){if(!c.toastComponent)throw new Error("toastComponent required");let d=this.findDuplicate(r,t,this.toastrConfig.resetTimeoutOnDuplicate&&c.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&r||t)&&this.toastrConfig.preventDuplicates&&d!==null)return d;this.previousToastMessage=t;let J=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(J=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));let De=this.overlay.create(c.positionClass,this.overlayContainer);this.index=this.index+1;let vt=t;t&&c.enableHtml&&(vt=this.sanitizer.sanitize(St.HTML,t));let he=new gt(De),it=new ge(this.index,c,vt,r,e,he),Ft=[{provide:ge,useValue:it}],Vt=Re.create({providers:Ft,parent:this._injector}),Bt=new pt(c.toastComponent,Vt),Ct=De.attach(Bt,c.newestOnTop);he.componentInstance=Ct.instance;let ot={toastId:this.index,title:r||"",message:t||"",toastRef:he,onShown:he.afterActivate(),onHidden:he.afterClosed(),onTap:it.onTap(),onAction:it.onAction(),portal:Ct};return J||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ot.toastRef.activate()})),this.toasts.push(ot),ot}static \u0275fac=function(t){return new(t||n)(F(Rt),F(Cn),F(Re),F(Tt),F(rt))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_n=(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=ve(-1);toastClasses="";state;get _state(){return this.state()}get displayStyle(){if(this.state().value==="inactive")return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,r){this.toastrService=e,this.toastPackage=t,this.ngZone=r,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c}),this.state=ve({value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.update(e=>ee(k({},e),{value:"active"})),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.update(e=>ee(k({},e),{value:"active"})),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){this.state().value!=="removed"&&(clearTimeout(this.timeout),this.state.update(e=>ee(k({},e),{value:"removed"})),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){this.state().value!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state().value!=="removed"&&this.options.disableTimeOut!=="extendedTimeOut"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state().value==="removed"||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}static \u0275fac=function(t){return new(t||n)(u(B),u(ge),u(rt))};static \u0275cmp=y({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){t&1&&h("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),t&2&&(wt("@flyInOut",r._state),U(r.toastClasses),_e("display",r.displayStyle))},attrs:kt,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){t&1&&x(0,rn,3,0,"button",0)(1,an,3,5,"div",1)(2,ln,1,3,"div",2)(3,cn,2,4,"div",3)(4,dn,2,2,"div",4),t&2&&(m("ngIf",r.options.closeButton),l(),m("ngIf",r.title),l(),m("ngIf",r.message&&r.options.enableHtml),l(),m("ngIf",r.message&&!r.options.enableHtml),l(),m("ngIf",r.options.progressBar))},dependencies:[O],encapsulation:2,data:{animation:[mt("flyInOut",[Me("inactive",Se({opacity:0})),Me("active",Se({opacity:1})),Me("removed",Se({opacity:0})),Je("inactive => active",Qe("{{ easeTime }}ms {{ easing }}")),Je("active => removed",Qe("{{ easeTime }}ms {{ easing }}"))])]},changeDetection:0})}return n})(),bn=ee(k({},Nt),{toastComponent:_n}),xn=(n={})=>yt([{provide:Rt,useValue:{default:bn,config:n}}]),Ke=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[xn(e)]}}static \u0275fac=function(t){return new(t||n)};static \u0275mod=ie({type:n});static \u0275inj=te({})}return n})();var yn=(()=>{class n{toastrService;toastPackage;appRef;message;title;options;duplicatesCount;originalTimeout;width=ve(-1);toastClasses="";get displayStyle(){return this.state()==="inactive"?"none":null}state=ve("inactive");timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(e,t,r){this.toastrService=e,this.toastPackage=t,this.appRef=r,this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c})}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state.set("active"),!(this.options.disableTimeOut===!0||this.options.disableTimeOut==="timeOut")&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=new Date().getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(this.width()===0||this.width()===100||!this.options.timeOut)return;let e=new Date().getTime(),t=this.hideTime-e;this.width.set(t/this.options.timeOut*100),this.options.progressAnimation==="increasing"&&this.width.update(r=>100-r),this.width()<=0&&this.width.set(0),this.width()>=100&&this.width.set(100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state.set("active"),this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=new Date().getTime()+(this.originalTimeout||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.state.set("removed"),this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){this.state()!=="removed"&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){this.state()!=="removed"&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width.set(0))}delayedHideToast(){this.options.disableTimeOut===!0||this.options.disableTimeOut==="extendedTimeOut"||this.options.extendedTimeOut===0||this.state()==="removed"||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=new Date().getTime()+(this.options.timeOut||0),this.width.set(-1),this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}static \u0275fac=function(t){return new(t||n)(u(B),u(ge),u(Ae))};static \u0275cmp=y({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){t&1&&h("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),t&2&&(U(r.toastClasses),_e("display",r.displayStyle))},attrs:kt,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){t&1&&x(0,mn,3,0,"button",0)(1,un,3,5,"div",1)(2,gn,1,3,"div",2)(3,fn,2,4,"div",3)(4,hn,2,2,"div",4),t&2&&(m("ngIf",r.options.closeButton),l(),m("ngIf",r.title),l(),m("ngIf",r.message&&r.options.enableHtml),l(),m("ngIf",r.message&&!r.options.enableHtml),l(),m("ngIf",r.options.progressBar))},dependencies:[O],encapsulation:2,changeDetection:0})}return n})(),Li=ee(k({},Nt),{toastComponent:yn});function Sn(n,i){if(n&1&&(s(0,"div",35),a(1),o()),n&2){let e=p();l(),M(e.error)}}function Mn(n,i){if(n&1&&(s(0,"div",36),a(1),o()),n&2){let e=p();l(),M(e.message)}}function wn(n,i){if(n&1){let e=T();s(0,"div",37),h("click",function(){g(e);let r=p();return f(r.toggleRecap())}),o()}}function On(n,i){if(n&1){let e=T();s(0,"div",38)(1,"div",39),h("click",function(r){return g(e),f(r.stopPropagation())}),s(2,"h3"),a(3,"R\xE9capitulatif"),o(),s(4,"ul")(5,"li")(6,"strong"),a(7,"Pr\xE9nom :"),o(),a(8),o(),s(9,"li")(10,"strong"),a(11,"Nom :"),o(),a(12),o(),s(13,"li")(14,"strong"),a(15,"CIN :"),o(),a(16),o(),s(17,"li")(18,"strong"),a(19,"Email :"),o(),a(20),o(),s(21,"li")(22,"strong"),a(23,"T\xE9l\xE9phone :"),o(),a(24),o(),s(25,"li")(26,"strong"),a(27,"Date de naissance :"),o(),a(28),o(),s(29,"li")(30,"strong"),a(31,"Type de compte :"),o(),a(32),o(),s(33,"li")(34,"strong"),a(35,"Solde initial :"),o(),a(36),Fe(37,"currency"),o(),s(38,"li")(39,"strong"),a(40,"Documents complets :"),o(),a(41),o(),s(42,"li")(43,"strong"),a(44,"Compte bloqu\xE9 :"),o(),a(45),o()(),s(46,"button",40),h("click",function(){g(e);let r=p();return f(r.toggleRecap())}),a(47,"Fermer"),o()()()}if(n&2){let e=p();l(8),S(" ",e.firstName,""),l(4),S(" ",e.lastName,""),l(4),S(" ",e.cin,""),l(4),S(" ",e.email,""),l(4),S(" ",e.tel,""),l(4),S(" ",e.birthDate,""),l(4),S(" ",e.accountType,""),l(4),S(" ",Ve(37,10,e.balance,"EUR"),""),l(5),S(" ",e.documentsComplets?"Oui":"Non",""),l(4),S(" ",e.compteBloque?"Oui":"Non","")}}var Oe=class n{constructor(i,e,t){this.clientService=i;this.router=e;this.toastr=t}firstName="";lastName="";cin="";email="";tel="";birthDate="";accountType="courant";balance=0;documentsComplets=!1;compteBloque=!1;message="";error="";formatDate(i){if(!i)return"";let e=new Date(i);return isNaN(e.getTime())?"":e.toISOString().split("T")[0]}create(){this.error="";let i={firstName:this.firstName,lastName:this.lastName,email:this.email,tel:this.tel,birthDate:this.formatDate(this.birthDate),accountType:this.accountType,balance:this.balance,cin:this.cin};this.clientService.createClient(i).subscribe({next:()=>{this.message="Client cr\xE9\xE9 avec succ\xE8s.",this.toastr.success("Client cr\xE9\xE9 avec succ\xE8s.","Audit log"),this.router.navigate(["/employee/clients"])},error:()=>{this.error="Erreur lors de la cr\xE9ation du client.",this.toastr.error("Erreur lors de la cr\xE9ation.","Audit \xE9chou\xE9")}})}showRecap=!1;toggleRecap(){this.showRecap=!this.showRecap}static \u0275fac=function(e){return new(e||n)(u(A),u(N),u(B))};static \u0275cmp=y({type:n,selectors:[["app-client-create"]],decls:59,vars:14,consts:[["form","ngForm"],[1,"create-client-form"],["class","error",4,"ngIf"],["class","success",4,"ngIf"],[3,"ngSubmit"],[1,"form-group"],["for","firstName"],["type","text","id","firstName","name","firstName","required","",3,"ngModelChange","ngModel"],["for","lastName"],["type","text","id","lastName","name","lastName","required","",3,"ngModelChange","ngModel"],["for","cin"],["type","text","id","cin","name","cin","required","","placeholder","Ex: AB123456",3,"ngModelChange","ngModel"],["for","email"],["type","email","id","email","name","email","required","",3,"ngModelChange","ngModel"],["for","tel"],["type","tel","id","tel","name","tel","required","",3,"ngModelChange","ngModel"],["for","birthDate"],["type","date","id","birthDate","name","birthDate","required","",3,"ngModelChange","ngModel"],["for","accountType"],["id","accountType","name","accountType","required","",3,"ngModelChange","ngModel"],["value","courant"],["value","\xE9pargne"],["for","balance"],["type","number","id","balance","name","balance","required","",3,"ngModelChange","ngModel"],[1,"form-group","checkbox-group"],[1,"checkbox-item"],["type","checkbox","id","documentsComplets","name","documentsComplets",3,"ngModelChange","ngModel"],["for","documentsComplets"],["type","checkbox","id","compteBloque","name","compteBloque",3,"ngModelChange","ngModel"],["for","compteBloque"],[1,"form-actions"],["type","submit"],["type","button",3,"click"],["class","modal-backdrop",3,"click",4,"ngIf"],["class","modal",4,"ngIf"],[1,"error"],[1,"success"],[1,"modal-backdrop",3,"click"],[1,"modal"],[1,"modal-content",3,"click"],[3,"click"]],template:function(e,t){if(e&1){let r=T();s(0,"div",1)(1,"h2"),a(2,"Inscription d'un Nouveau Client"),o(),x(3,Sn,2,1,"div",2)(4,Mn,2,1,"div",3),s(5,"form",4,0),h("ngSubmit",function(){return g(r),f(t.create())}),s(7,"div",5)(8,"label",6),a(9,"Pr\xE9nom :"),o(),s(10,"input",7),b("ngModelChange",function(d){return g(r),_(t.firstName,d)||(t.firstName=d),f(d)}),o()(),s(11,"div",5)(12,"label",8),a(13,"Nom :"),o(),s(14,"input",9),b("ngModelChange",function(d){return g(r),_(t.lastName,d)||(t.lastName=d),f(d)}),o()(),s(15,"div",5)(16,"label",10),a(17,"CIN :"),o(),s(18,"input",11),b("ngModelChange",function(d){return g(r),_(t.cin,d)||(t.cin=d),f(d)}),o()(),s(19,"div",5)(20,"label",12),a(21,"Email :"),o(),s(22,"input",13),b("ngModelChange",function(d){return g(r),_(t.email,d)||(t.email=d),f(d)}),o()(),s(23,"div",5)(24,"label",14),a(25,"T\xE9l\xE9phone :"),o(),s(26,"input",15),b("ngModelChange",function(d){return g(r),_(t.tel,d)||(t.tel=d),f(d)}),o()(),s(27,"div",5)(28,"label",16),a(29,"Date de naissance :"),o(),s(30,"input",17),b("ngModelChange",function(d){return g(r),_(t.birthDate,d)||(t.birthDate=d),f(d)}),o()(),s(31,"div",5)(32,"label",18),a(33,"Type de compte :"),o(),s(34,"select",19),b("ngModelChange",function(d){return g(r),_(t.accountType,d)||(t.accountType=d),f(d)}),s(35,"option",20),a(36,"Courant"),o(),s(37,"option",21),a(38,"\xC9pargne"),o()()(),s(39,"div",5)(40,"label",22),a(41,"Solde initial :"),o(),s(42,"input",23),b("ngModelChange",function(d){return g(r),_(t.balance,d)||(t.balance=d),f(d)}),o()(),s(43,"div",24)(44,"div",25)(45,"input",26),b("ngModelChange",function(d){return g(r),_(t.documentsComplets,d)||(t.documentsComplets=d),f(d)}),o(),s(46,"label",27),a(47,"Documents complets ?"),o()(),s(48,"div",25)(49,"input",28),b("ngModelChange",function(d){return g(r),_(t.compteBloque,d)||(t.compteBloque=d),f(d)}),o(),s(50,"label",29),a(51,"Compte bloqu\xE9 ?"),o()()(),s(52,"div",30)(53,"button",31),a(54,"Cr\xE9er"),o()()(),s(55,"button",32),h("click",function(){return g(r),f(t.toggleRecap())}),a(56,"Voir le r\xE9capitulatif"),o(),x(57,wn,1,0,"div",33)(58,On,48,13,"div",34),o()}e&2&&(l(3),m("ngIf",t.error),l(),m("ngIf",t.message),l(6),C("ngModel",t.firstName),l(4),C("ngModel",t.lastName),l(4),C("ngModel",t.cin),l(4),C("ngModel",t.email),l(4),C("ngModel",t.tel),l(4),C("ngModel",t.birthDate),l(4),C("ngModel",t.accountType),l(8),C("ngModel",t.balance),l(3),C("ngModel",t.documentsComplets),l(4),C("ngModel",t.compteBloque),l(8),m("ngIf",t.showRecap),l(),m("ngIf",t.showRecap))},dependencies:[w,O,Be,R,W,ze,Ue,E,Z,Le,We,P,H,me,V,de,D],styles:[".create-client-form[_ngcontent-%COMP%]{background-color:#fff;padding:40px;border-radius:16px;max-width:700px;margin:40px auto;box-shadow:0 12px 30px #00000014;font-family:Segoe UI,sans-serif;color:#1e293b}.create-client-form[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#1e3a8a;text-align:center;font-size:28px;margin-bottom:32px;font-weight:700}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:6px;font-size:15px;color:#1e293b}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:12px 14px;border:1px solid #cbd5e1;border-radius:10px;font-size:15px;background-color:#f9fafb;transition:border-color .3s,box-shadow .3s}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f640}.form-actions[_ngcontent-%COMP%]{text-align:center;margin-top:30px}button[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;padding:12px 28px;font-weight:600;font-size:15px;border:none;border-radius:10px;cursor:pointer;transition:background-color .2s ease}button[_ngcontent-%COMP%]:hover{background-color:#1e40af}.success[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{padding:12px;border-radius:8px;margin-bottom:20px;font-size:15px;font-weight:500;text-align:center}.success[_ngcontent-%COMP%]{background-color:#dcfce7;color:#15803d}.error[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background-color:#1e293b80;z-index:99}.modal[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%) scale(1);background:#fff;padding:30px;border-radius:16px;box-shadow:0 10px 30px #00000026;z-index:100;width:90%;max-width:520px;animation:_ngcontent-%COMP%_fadeInUp .25s ease-out}.modal-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;color:#1e3a8a;text-align:center;font-size:22px;margin-bottom:20px}.modal-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin-bottom:20px}.modal-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:10px;font-size:15px;color:#334155}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#2563eb;color:#fff;padding:10px 24px;border-radius:8px;border:none;font-weight:600;cursor:pointer;display:block;margin:0 auto;transition:background-color .2s ease}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translate(-50%,-60%)}to{opacity:1;transform:translate(-50%,-50%)}}@media (max-width: 500px){.create-client-form[_ngcontent-%COMP%]{padding:24px}button[_ngcontent-%COMP%]{width:100%}}.checkbox-group[_ngcontent-%COMP%]{display:flex;gap:40px;align-items:center;margin-top:10px}.checkbox-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.checkbox-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:16px;height:16px}"]})};function Tn(n,i){if(n&1&&(s(0,"div",15),a(1),o()),n&2){let e=p();l(),M(e.error)}}function In(n,i){if(n&1&&(s(0,"div",16),a(1),o()),n&2){let e=p();l(),M(e.message)}}var Te=class n{constructor(i,e,t){this.route=i;this.clientService=e;this.router=t}client;updatedFirstName="";updatedLastName="";updatedEmail="";updatedPhone="";supervisorPassword="";updatedDocumentsComplets=!1;updatedCompteBloque=!1;message="";error="";ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&this.clientService.getClientById(i).subscribe({next:e=>{this.client=e;let t=e.fullName.split(" ");this.updatedFirstName=t[0],this.updatedLastName=t.slice(1).join(" "),this.updatedEmail=e.email??"",this.updatedPhone=e.phone??""},error:()=>this.error="Erreur lors du chargement du client."})}update(){if(!this.client)return;let i={clientId:this.client.clientId,newFirstName:this.updatedFirstName,newLastName:this.updatedLastName,newEmail:this.updatedEmail,newTel:this.updatedPhone,supervisorCode:this.supervisorPassword};console.log("\u{1F680} Envoi de la mise \xE0 jour:",i),this.clientService.updateClient(i).subscribe({next:e=>{console.log("\u2705 R\xE9ponse re\xE7ue:",e),this.message="Client mis \xE0 jour avec succ\xE8s \u2705",setTimeout(()=>{this.router.navigate(["/employee/clients"])},1e3)},error:e=>{console.error("\u274C Erreur compl\xE8te:",e),console.error("\u274C Status:",e.status),console.error("\u274C Message:",e.message),this.error="Erreur de mise \xE0 jour ou mot de passe invalide \u274C"}})}static \u0275fac=function(e){return new(e||n)(u(q),u(A),u(N))};static \u0275cmp=y({type:n,selectors:[["app-client-update"]],decls:37,vars:9,consts:[["form","ngForm"],[1,"update-container"],["class","alert error",4,"ngIf"],["class","alert success",4,"ngIf"],[1,"form-grid",3,"ngSubmit"],[1,"form-group"],["name","firstName","required","",3,"ngModelChange","ngModel"],["name","lastName","required","",3,"ngModelChange","ngModel"],["name","email","type","email",3,"ngModelChange","ngModel"],["name","phone",3,"ngModelChange","ngModel"],["type","checkbox","name","documentsComplets",3,"ngModelChange","ngModel"],["type","checkbox","name","compteBloque",3,"ngModelChange","ngModel"],[1,"form-group","full-width"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["type","submit",1,"btn-submit"],[1,"alert","error"],[1,"alert","success"]],template:function(e,t){if(e&1){let r=T();s(0,"div",1)(1,"h2"),a(2,"\u{1F4DD} Modifier le Client"),o(),x(3,Tn,2,1,"div",2)(4,In,2,1,"div",3),s(5,"form",4,0),h("ngSubmit",function(){return g(r),f(t.update())}),s(7,"div",5)(8,"label"),a(9,"Pr\xE9nom :"),o(),s(10,"input",6),b("ngModelChange",function(d){return g(r),_(t.updatedFirstName,d)||(t.updatedFirstName=d),f(d)}),o()(),s(11,"div",5)(12,"label"),a(13,"Nom :"),o(),s(14,"input",7),b("ngModelChange",function(d){return g(r),_(t.updatedLastName,d)||(t.updatedLastName=d),f(d)}),o()(),s(15,"div",5)(16,"label"),a(17,"Email :"),o(),s(18,"input",8),b("ngModelChange",function(d){return g(r),_(t.updatedEmail,d)||(t.updatedEmail=d),f(d)}),o()(),s(19,"div",5)(20,"label"),a(21,"T\xE9l\xE9phone :"),o(),s(22,"input",9),b("ngModelChange",function(d){return g(r),_(t.updatedPhone,d)||(t.updatedPhone=d),f(d)}),o()(),s(23,"div",5)(24,"label")(25,"input",10),b("ngModelChange",function(d){return g(r),_(t.updatedDocumentsComplets,d)||(t.updatedDocumentsComplets=d),f(d)}),o(),a(26," Documents complets ? "),o()(),s(27,"div",5)(28,"label")(29,"input",11),b("ngModelChange",function(d){return g(r),_(t.updatedCompteBloque,d)||(t.updatedCompteBloque=d),f(d)}),o(),a(30," Compte bloqu\xE9 ? "),o()(),s(31,"div",12)(32,"label"),a(33,"Mot de passe superviseur :"),o(),s(34,"input",13),b("ngModelChange",function(d){return g(r),_(t.supervisorPassword,d)||(t.supervisorPassword=d),f(d)}),o()(),s(35,"button",14),a(36,"Mettre \xE0 jour"),o()()()}e&2&&(l(3),m("ngIf",t.error),l(),m("ngIf",t.message),l(6),C("ngModel",t.updatedFirstName),l(4),C("ngModel",t.updatedLastName),l(4),C("ngModel",t.updatedEmail),l(4),C("ngModel",t.updatedPhone),l(3),C("ngModel",t.updatedDocumentsComplets),l(4),C("ngModel",t.updatedCompteBloque),l(5),C("ngModel",t.supervisorPassword))},dependencies:[w,O,R,W,E,Le,P,H,me,V,de],styles:[".update-container[_ngcontent-%COMP%]{max-width:760px;margin:3rem auto;padding:2.5rem;background-color:#fff;border-radius:16px;box-shadow:0 12px 24px #0000000f;font-family:Segoe UI,sans-serif}.update-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#1e3a8a;font-size:28px;margin-bottom:2rem;display:flex;align-items:center;justify-content:center;gap:.5rem}.form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem 2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.4rem;color:#1e293b}input[_ngcontent-%COMP%]{padding:.7rem;font-size:1rem;border:1px solid #cbd5e1;border-radius:8px;background-color:#f9fafb;transition:border-color .3s,box-shadow .3s}input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f640}.full-width[_ngcontent-%COMP%]{grid-column:span 2}.btn-submit[_ngcontent-%COMP%]{grid-column:span 2;padding:.9rem;background-color:#2563eb;color:#fff;font-weight:700;font-size:1rem;border:none;border-radius:10px;cursor:pointer;transition:background-color .2s ease}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.alert[_ngcontent-%COMP%]{text-align:center;padding:.9rem;border-radius:8px;margin-bottom:1.5rem;font-weight:500}.alert.error[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c}.alert.success[_ngcontent-%COMP%]{background-color:#dcfce7;color:#15803d}@media (max-width: 600px){.full-width[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{grid-column:span 1}}"]})};function En(n,i){if(n&1&&(s(0,"div",9),a(1),o()),n&2){let e=p();l(),M(e.message)}}function Pn(n,i){if(n&1&&(s(0,"div",10),a(1),o()),n&2){let e=p();l(),M(e.error)}}var Ie=class n{constructor(i,e,t,r){this.route=i;this.router=e;this.clientService=t;this.toastr=r}clientId="";message="";error="";clientName="";supervisorCode="";ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&(this.clientId=i,this.clientService.getClientById(i).subscribe({next:e=>{this.clientName=e.fullName},error:()=>{this.error="Erreur lors du chargement du client."}}))}confirmDelete(){let i={clientId:this.clientId,supervisorCode:this.supervisorCode};this.clientService.deleteClient(i).subscribe({next:()=>{this.toastr.success("Client supprim\xE9 avec succ\xE8s.","Action audit\xE9e"),this.router.navigate(["/clients"])},error:e=>{e.status===401?this.toastr.error("Code superviseur incorrect.","\xC9chec audit"):e.status===400?this.toastr.warning(e.error,"Suppression refus\xE9e"):this.toastr.error("Erreur inattendue.","Audit \xE9chou\xE9")}})}cancel(){this.router.navigate(["/clients",this.clientId])}static \u0275fac=function(e){return new(e||n)(u(q),u(N),u(A),u(B))};static \u0275cmp=y({type:n,selectors:[["app-client-delete"]],decls:19,vars:5,consts:[[1,"client-delete-container"],["class","alert success",4,"ngIf"],["class","alert error",4,"ngIf"],[1,"form-group"],["for","supervisorCode"],["type","password","id","supervisorCode","placeholder","Entrez le code superviseur",1,"input",3,"ngModelChange","ngModel"],[1,"button-group"],[1,"btn","delete",3,"click"],[1,"btn","cancel",3,"click"],[1,"alert","success"],[1,"alert","error"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h2"),a(2,"\u{1F5D1}\uFE0F Suppression du Client"),o(),x(3,En,2,1,"div",1)(4,Pn,2,1,"div",2),s(5,"p"),a(6," \xCAtes-vous s\xFBr de vouloir supprimer le client "),s(7,"strong"),a(8),o(),a(9),o(),s(10,"div",3)(11,"label",4),a(12,"Code superviseur"),o(),s(13,"input",5),b("ngModelChange",function(c){return _(t.supervisorCode,c)||(t.supervisorCode=c),c}),o()(),s(14,"div",6)(15,"button",7),h("click",function(){return t.confirmDelete()}),a(16,"\u2705 Oui, Supprimer"),o(),s(17,"button",8),h("click",function(){return t.cancel()}),a(18,"\u274C Annuler"),o()()()),e&2&&(l(3),m("ngIf",t.message),l(),m("ngIf",t.error),l(4),M(t.clientName),l(),S(" (ID: ",t.clientId,") ? "),l(4),C("ngModel",t.supervisorCode))},dependencies:[w,O,Ke,R,E,P,V],styles:[".client-delete-container[_ngcontent-%COMP%]{max-width:600px;margin:60px auto;padding:2rem;background-color:#fff;border-radius:16px;box-shadow:0 15px 30px #0000000d;text-align:center;font-family:Segoe UI,sans-serif}.client-delete-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#dc2626;font-size:28px;margin-bottom:1.5rem;display:flex;align-items:center;justify-content:center;gap:.5rem}.client-delete-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.15rem;color:#1e293b;margin-bottom:2rem}.client-delete-container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-weight:700;color:#000}.alert[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;font-weight:500;margin-bottom:1.5rem;font-size:15px;text-align:center;animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}.alert.success[_ngcontent-%COMP%]{background-color:#dcfce7;color:#15803d}.alert.error[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c}.form-group[_ngcontent-%COMP%]{margin-bottom:1.8rem;text-align:left}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:600;margin-bottom:.5rem;color:#334155}.input[_ngcontent-%COMP%]{width:100%;padding:.7rem 1rem;border:1px solid #cbd5e1;border-radius:8px;font-size:16px;transition:border-color .2s}.input[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f626}.button-group[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;flex-wrap:wrap}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;border:none;transition:background-color .25s ease;display:flex;align-items:center;gap:.5rem}.btn.delete[_ngcontent-%COMP%]{background-color:#dc2626;color:#fff}.btn.delete[_ngcontent-%COMP%]:hover{background-color:#b91c1c}.btn.cancel[_ngcontent-%COMP%]{background-color:#f1f5f9;color:#1e293b}.btn.cancel[_ngcontent-%COMP%]:hover{background-color:#e2e8f0}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}"]})};function Dn(n,i){if(n&1&&(s(0,"div",9),a(1),o()),n&2){let e=p(2);l(),M(e.message)}}function kn(n,i){if(n&1&&(s(0,"div",10),a(1),o()),n&2){let e=p(2);l(),M(e.error)}}function Nn(n,i){if(n&1){let e=T();s(0,"div",2)(1,"div",3)(2,"label"),a(3,"Compte bloqu\xE9 :"),o(),s(4,"label")(5,"input",4),b("ngModelChange",function(r){g(e);let c=p();return _(c.compteBloque,r)||(c.compteBloque=r),f(r)}),o(),a(6," Oui"),o(),s(7,"label")(8,"input",4),b("ngModelChange",function(r){g(e);let c=p();return _(c.compteBloque,r)||(c.compteBloque=r),f(r)}),o(),a(9," Non"),o()(),s(10,"div",3)(11,"label"),a(12,"Documents complets :"),o(),s(13,"label")(14,"input",5),b("ngModelChange",function(r){g(e);let c=p();return _(c.documentsComplets,r)||(c.documentsComplets=r),f(r)}),o(),a(15," Oui"),o(),s(16,"label")(17,"input",5),b("ngModelChange",function(r){g(e);let c=p();return _(c.documentsComplets,r)||(c.documentsComplets=r),f(r)}),o(),a(18," Non"),o()(),s(19,"button",6),h("click",function(){g(e);let r=p();return f(r.toggle())}),a(20,"Mettre \xE0 jour"),o(),x(21,Dn,2,1,"div",7)(22,kn,2,1,"div",8),o()}if(n&2){let e=p();l(5),C("ngModel",e.compteBloque),m("value",!0),l(3),C("ngModel",e.compteBloque),m("value",!1),l(6),C("ngModel",e.documentsComplets),m("value",!0),l(3),C("ngModel",e.documentsComplets),m("value",!1),l(4),m("ngIf",e.message),l(),m("ngIf",e.error)}}var Ee=class n{constructor(i,e,t){this.route=i;this.router=e;this.clientService=t}clientId="";compteBloque=!1;documentsComplets=!0;message="";error="";ngOnInit(){let i=this.route.snapshot.paramMap.get("id");i&&(this.clientId=i,this.clientService.getClientById(i).subscribe({next:e=>{this.compteBloque=e.compteBloque??!1,this.documentsComplets=e.documentsComplets??!0},error:()=>this.error="Erreur lors du chargement du client."}))}toggle(){this.message="",this.error="",console.log(">>> Mise \xE0 jour du statut :",this.compteBloque,this.documentsComplets),this.clientService.toggleClientStatus(this.clientId,this.compteBloque,this.documentsComplets).subscribe({next:()=>this.message="Statuts mis \xE0 jour avec succ\xE8s",error:()=>this.error="Erreur lors de la mise \xE0 jour du statut"})}static \u0275fac=function(e){return new(e||n)(u(q),u(N),u(A))};static \u0275cmp=y({type:n,selectors:[["app-client-status-toggle"]],decls:4,vars:1,consts:[[1,"status-container"],["class","form-group",4,"ngIf"],[1,"form-group"],[1,"field-group"],["type","radio","name","compteBloque",3,"ngModelChange","ngModel","value"],["type","radio","name","documentsComplets",3,"ngModelChange","ngModel","value"],[1,"btn-update",3,"click"],["class","success",4,"ngIf"],["class","error",4,"ngIf"],[1,"success"],[1,"error"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h2"),a(2,"\u{1F6E0}\uFE0F Modifier le Statut du Client"),o(),x(3,Nn,23,10,"div",1),o()),e&2&&(l(3),m("ngIf",t.clientId))},dependencies:[w,O,R,E,Pt,P,V],styles:[".status-container[_ngcontent-%COMP%]{max-width:600px;margin:50px auto;padding:2.5rem;background-color:#fff;border-radius:16px;box-shadow:0 10px 24px #0000000d;font-family:Segoe UI,sans-serif}.status-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#1e3a8a;font-size:26px;margin-bottom:2.5rem;display:flex;align-items:center;justify-content:center;gap:.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem}.field-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.75rem}.field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:first-child{font-weight:600;font-size:15px;color:#1e293b;margin-bottom:.2rem}.field-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:15px;color:#334155}.field-group[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{margin-right:8px;accent-color:#2563eb;transform:scale(1.1)}.btn-update[_ngcontent-%COMP%]{padding:12px 24px;background-color:#2563eb;color:#fff;font-weight:600;font-size:15px;border:none;border-radius:10px;cursor:pointer;align-self:flex-start;transition:background-color .2s ease}.btn-update[_ngcontent-%COMP%]:hover{background-color:#1e40af}.success[_ngcontent-%COMP%], .error[_ngcontent-%COMP%]{padding:.75rem;border-radius:8px;margin-top:1rem;font-size:15px;font-weight:500;text-align:left;max-width:100%}.success[_ngcontent-%COMP%]{color:#15803d;background-color:#dcfce7}.error[_ngcontent-%COMP%]{color:#b91c1c;background-color:#fee2e2}@media (max-width: 480px){.btn-update[_ngcontent-%COMP%]{width:100%;text-align:center}}"]})};var Rn=()=>["virement"],An=()=>["operation"],Xe=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=y({type:n,selectors:[["app-transaction-selector"]],decls:12,vars:4,consts:[[1,"page-title"],[1,"transaction-grid"],[1,"transaction-card",3,"routerLink"],[1,"fas","fa-exchange-alt"],[1,"fas","fa-hand-holding-usd"]],template:function(e,t){e&1&&(s(0,"h2",0),a(1,"Choisir une transaction"),o(),s(2,"div",1)(3,"div",2),v(4,"i",3),s(5,"h3"),a(6,"Virement"),o()(),s(7,"div",2),v(8,"i",4),s(9,"h3"),a(10,"D\xE9p\xF4t/Retrait"),o()()(),v(11,"router-outlet")),e&2&&(l(3),m("routerLink",oe(2,Rn)),l(4),m("routerLink",oe(3,An)))},dependencies:[w,D,je,le],styles:[".page-title[_ngcontent-%COMP%]{text-align:center;font-size:24px;margin-bottom:20px}.transaction-grid[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;gap:20px}.transaction-card[_ngcontent-%COMP%]{width:200px;height:200px;background:#f9fafb;border-radius:12px;box-shadow:0 4px 10px #0000001a;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#1e3a8a;font-size:18px;cursor:pointer;transition:transform .2s}.transaction-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px)}.transaction-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:40px;margin-bottom:10px}"]})};var $e=class n{constructor(i){this.http=i}apiUrl=`${ce.apiUrl}/employee/employee/transfer`;effectuerVirement(i){let e=localStorage.getItem("token")||"",t=new se({"Content-Type":"application/json",Authorization:`Bearer ${e}`});return console.log("VirementService charg\xE9 avec URL :",this.apiUrl),this.http.post(this.apiUrl,i,{headers:t,responseType:"text"})}static \u0275fac=function(e){return new(e||n)(F(ae))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function Vn(n,i){if(n&1&&(s(0,"div",12),a(1),o()),n&2){let e=p();l(),M(e.successMessage)}}function Bn(n,i){if(n&1&&(s(0,"div",13),a(1),o()),n&2){let e=p();l(),M(e.errorMessage)}}var fe=class n{constructor(i,e,t){this.fb=i;this.virementService=e;this.toastr=t;this.virementForm=this.fb.group({fromAccountId:["",G.required],toRib:["",G.required],amount:["",[G.required,G.min(1)]]})}virementForm;successMessage="";errorMessage="";effectuerVirement(){if(this.virementForm.invalid)return;let i=this.virementForm.value;this.virementService.effectuerVirement(i).subscribe({next:e=>{this.toastr.success("Virement effectu\xE9 avec succ\xE8s \u2705"),this.virementForm.reset()},error:e=>{this.toastr.error(e.error||"Erreur inconnue \u274C")}})}static \u0275fac=function(e){return new(e||n)(u(Ge),u($e),u(B))};static \u0275cmp=y({type:n,selectors:[["app-virement"]],decls:19,vars:4,consts:[[1,"page-title"],[1,"virement-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","fromAccountId"],["id","fromAccountId","type","text","formControlName","fromAccountId","placeholder","UUID du compte source",1,"form-control"],["for","toRib"],["id","toRib","type","text","formControlName","toRib","placeholder","RIB du compte destinataire",1,"form-control"],["for","amount"],["id","amount","type","number","formControlName","amount","placeholder","Montant \xE0 transf\xE9rer",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","alert alert-success mt-2",4,"ngIf"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"alert","alert-success","mt-2"],[1,"alert","alert-danger","mt-2"]],template:function(e,t){e&1&&(s(0,"h2",0),a(1,"Effectuer un virement"),o(),s(2,"form",1),h("ngSubmit",function(){return t.effectuerVirement()}),s(3,"div",2)(4,"label",3),a(5,"Compte source (ID)"),o(),v(6,"input",4),o(),s(7,"div",2)(8,"label",5),a(9,"RIB du destinataire"),o(),v(10,"input",6),o(),s(11,"div",2)(12,"label",7),a(13,"Montant"),o(),v(14,"input",8),o(),s(15,"button",9),a(16," Valider "),o(),x(17,Vn,2,1,"div",10)(18,Bn,2,1,"div",11),o()),e&2&&(l(2),m("formGroup",t.virementForm),l(13),m("disabled",t.virementForm.invalid),l(2),m("ngIf",t.successMessage),l(),m("ngIf",t.errorMessage))},dependencies:[Q,W,E,Z,P,H,qe,He,O],styles:[".virement-form[_ngcontent-%COMP%]{max-width:450px;margin:30px auto;padding:30px;border:1px solid #e2e8f0;border-radius:16px;background-color:#fff;box-shadow:0 10px 25px #0000000f;font-family:Segoe UI,sans-serif}.page-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;font-weight:700;margin-bottom:30px;color:#1e3a8a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:600;color:#334155;display:block;margin-bottom:6px}input.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:15px;border:1px solid #cbd5e1;border-radius:10px;background-color:#f9fafb;transition:border-color .3s ease}input.form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;outline:none;box-shadow:0 0 0 3px #3b82f640}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;font-weight:700;background-color:#2563eb;color:#fff;border:none;border-radius:10px;cursor:pointer;transition:background-color .25s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#1e40af}button[disabled][_ngcontent-%COMP%]{background-color:#94a3b8;cursor:not-allowed}.alert[_ngcontent-%COMP%]{margin-top:16px;padding:10px;border-radius:8px;font-size:15px;text-align:center}.alert-success[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.alert-danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}"]})};var et=class n{constructor(i){this.http=i}baseUrl=`${ce.apiUrl}/employee`;getAuthHeaders(){let i=localStorage.getItem("token")||"";return new se({"Content-Type":"application/json",Authorization:`Bearer ${i}`})}deposit(i,e){let t=`${this.baseUrl}/operations/deposit`,r={accountId:i,amount:e};return this.http.post(t,r,{headers:this.getAuthHeaders(),responseType:"text"})}withdraw(i,e){let t=`${this.baseUrl}/operations/withdraw`,r={accountId:i,amount:e};return this.http.post(t,r,{headers:this.getAuthHeaders(),responseType:"text"})}static \u0275fac=function(e){return new(e||n)(F(ae))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function Ln(n,i){if(n&1&&(s(0,"div",12),a(1),o()),n&2){let e=p();l(),M(e.message)}}function qn(n,i){if(n&1&&(s(0,"div",13),a(1),o()),n&2){let e=p();l(),M(e.error)}}var tt=class n{constructor(i,e,t){this.opService=i;this.router=e;this.toastr=t}amount=0;accountId="";message="";error="";deposit(){if(!this.accountId||this.amount<=0){this.error="Veuillez saisir un ID de compte valide et un montant positif",this.message="";return}this.opService.deposit(this.accountId,this.amount).subscribe({next:()=>{this.message="\u{1F4B0} D\xE9p\xF4t effectu\xE9 avec succ\xE8s",this.error="",this.toastr.success("D\xE9p\xF4t effectu\xE9 avec succ\xE8s"),this.router.navigate(["/employee/clients"])},error:i=>{this.error=i.error||"Erreur lors du d\xE9p\xF4t",this.message="",this.toastr.error(this.error)}})}withdraw(){if(!this.accountId||this.amount<=0){this.error="Veuillez saisir un ID de compte valide et un montant positif",this.message="";return}this.opService.withdraw(this.accountId,this.amount).subscribe({next:()=>{this.message="\u{1F3E7} Retrait effectu\xE9 avec succ\xE8s",this.error="",this.toastr.success("Retrait effectu\xE9 avec succ\xE8s"),this.router.navigate(["/employee/clients"])},error:i=>{this.error=i.error||"Erreur lors du retrait",this.message="",this.toastr.error(this.error)}})}onSubmit(){this.amount>0?this.deposit():this.amount<0?this.withdraw():(this.error="Veuillez entrer un montant diff\xE9rent de z\xE9ro.",this.message="")}static \u0275fac=function(e){return new(e||n)(u(et),u(N),u(B))};static \u0275cmp=y({type:n,selectors:[["app-operation"]],decls:18,vars:6,consts:[[1,"page-title"],[1,"operation-form",3,"ngSubmit"],[1,"form-group"],["for","accountId"],["id","accountId","type","text","name","accountId","placeholder","UUID du compte","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","amount"],["id","amount","type","number","name","amount","placeholder","Montant (positif pour d\xE9p\xF4t, n\xE9gatif pour retrait)","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"button-group"],["type","button",1,"btn","btn-success",3,"click","disabled"],["type","button",1,"btn","btn-warning",3,"click","disabled"],["class","alert alert-success mt-2",4,"ngIf"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"alert","alert-success","mt-2"],[1,"alert","alert-danger","mt-2"]],template:function(e,t){e&1&&(s(0,"h2",0),a(1,"Effectuer une op\xE9ration"),o(),s(2,"form",1),h("ngSubmit",function(){return t.onSubmit()}),s(3,"div",2)(4,"label",3),a(5,"ID du compte"),o(),s(6,"input",4),b("ngModelChange",function(c){return _(t.accountId,c)||(t.accountId=c),c}),o()(),s(7,"div",2)(8,"label",5),a(9,"Montant"),o(),s(10,"input",6),b("ngModelChange",function(c){return _(t.amount,c)||(t.amount=c),c}),o()(),s(11,"div",7)(12,"button",8),h("click",function(){return t.deposit()}),a(13," \u{1F4B0} D\xE9p\xF4t "),o(),s(14,"button",9),h("click",function(){return t.withdraw()}),a(15," \u{1F3E7} Retrait "),o()(),x(16,Ln,2,1,"div",10)(17,qn,2,1,"div",11),o()),e&2&&(l(6),C("ngModel",t.accountId),l(4),C("ngModel",t.amount),l(2),m("disabled",!t.accountId||t.amount<=0),l(2),m("disabled",!t.accountId||t.amount<=0),l(2),m("ngIf",t.message),l(),m("ngIf",t.error))},dependencies:[R,W,E,Z,P,H,me,V,de,Q,w,O],styles:[".operation-form[_ngcontent-%COMP%]{max-width:450px;margin:30px auto;padding:25px;border:1px solid #e2e8f0;border-radius:16px;background-color:#fff;box-shadow:0 8px 24px #0000000f;font-family:Segoe UI,sans-serif}.page-title[_ngcontent-%COMP%]{text-align:center;font-size:26px;margin-bottom:25px;font-weight:600;color:#1e3a8a}.form-group[_ngcontent-%COMP%]{margin-bottom:20px}label[_ngcontent-%COMP%]{display:block;margin-bottom:6px;font-weight:600;color:#334155}input.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;border:1px solid #cbd5e1;border-radius:10px;background-color:#f8fafc;transition:border-color .3s ease}input.form-control[_ngcontent-%COMP%]:focus{border-color:#3b82f6;outline:none;box-shadow:0 0 0 3px #3b82f633}button[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;font-weight:700;border:none;border-radius:10px;cursor:pointer;margin-bottom:12px;transition:background-color .3s ease;color:#fff}.btn-success[_ngcontent-%COMP%]{background-color:#10b981}.btn-success[_ngcontent-%COMP%]:hover{background-color:#059669}.btn-warning[_ngcontent-%COMP%]{background-color:#3b82f6}.btn-warning[_ngcontent-%COMP%]:hover{background-color:#2563eb}.alert-success[_ngcontent-%COMP%], .alert-danger[_ngcontent-%COMP%]{text-align:center;margin-top:15px;font-size:15px;padding:10px;border-radius:8px}.alert-success[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46}.alert-danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b}"]})};var Pe=class n{constructor(i,e,t,r,c){this.fb=i;this.route=e;this.clientService=t;this.toastr=r;this.router=c}accountForm;clientId;ngOnInit(){this.clientId=Number(this.route.snapshot.paramMap.get("id")),this.accountForm=this.fb.group({type:["courant",G.required],balance:[0,[G.required,G.min(.01)]]})}submit(i){if(i&&i.preventDefault(),this.accountForm.invalid)return;let e=k({clientId:this.clientId},this.accountForm.value);this.clientService.addAccount(e).subscribe({next:t=>{this.toastr.success("\u2705 Compte ajout\xE9 avec succ\xE8s"),this.router.navigate(["/employee/clients",this.clientId])},error:t=>{console.error(t),this.toastr.error(t.error?.message||"Erreur lors de la cr\xE9ation du compte")}})}static \u0275fac=function(e){return new(e||n)(u(Ge),u(q),u(A),u(B),u(N))};static \u0275cmp=y({type:n,selectors:[["app-add-account"]],decls:18,vars:2,consts:[[1,"add-account-container"],[1,"account-form",3,"ngSubmit","formGroup"],[1,"form-group"],["for","type"],["id","type","formControlName","type"],["value","courant"],["value","epargne"],["for","balance"],["type","number","id","balance","formControlName","balance"],["type","submit",1,"btn-submit",3,"disabled"]],template:function(e,t){e&1&&(s(0,"div",0)(1,"h2"),a(2,"\u{1F3E6} Ajouter un Nouveau Compte"),o(),s(3,"form",1),h("ngSubmit",function(){return t.submit()}),s(4,"div",2)(5,"label",3),a(6,"Type de compte"),o(),s(7,"select",4)(8,"option",5),a(9,"Compte courant"),o(),s(10,"option",6),a(11,"Compte \xE9pargne"),o()()(),s(12,"div",2)(13,"label",7),a(14,"Solde initial"),o(),v(15,"input",8),o(),s(16,"button",9),a(17,"Cr\xE9er le compte"),o()()()),e&2&&(l(3),m("formGroup",t.accountForm),l(13),m("disabled",t.accountForm.invalid))},dependencies:[Q,W,ze,Ue,E,Z,We,P,H,qe,He],styles:[".add-account-container[_ngcontent-%COMP%]{max-width:760px;margin:3rem auto;padding:2.5rem;background-color:#fff;border-radius:16px;box-shadow:0 12px 24px #0000000f;font-family:Segoe UI,sans-serif}.add-account-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#1e3a8a;font-size:28px;margin-bottom:2rem;display:flex;align-items:center;justify-content:center;gap:.5rem}.account-form[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.5rem 2rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.4rem;color:#1e293b}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.7rem;font-size:1rem;border:1px solid #cbd5e1;border-radius:8px;background-color:#f9fafb;transition:border-color .3s,box-shadow .3s}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f640}.full-width[_ngcontent-%COMP%]{grid-column:span 2}.btn-submit[_ngcontent-%COMP%]{grid-column:span 2;padding:.9rem;background-color:#2563eb;color:#fff;font-weight:700;font-size:1rem;border:none;border-radius:10px;cursor:pointer;transition:background-color .2s ease}.btn-submit[_ngcontent-%COMP%]:hover{background-color:#1d4ed8}.alert[_ngcontent-%COMP%]{text-align:center;padding:.9rem;border-radius:8px;margin-bottom:1.5rem;font-weight:500}.alert.error[_ngcontent-%COMP%]{background-color:#fee2e2;color:#b91c1c}.alert.success[_ngcontent-%COMP%]{background-color:#dcfce7;color:#15803d}@media (max-width: 600px){.full-width[_ngcontent-%COMP%], .btn-submit[_ngcontent-%COMP%]{grid-column:span 1}}"]})};var Hn=[{path:"",component:be,children:[{path:"",component:xe},{path:"clients",component:dt},{path:"clients/create",component:Oe},{path:"clients/:id",component:ye},{path:"clients/:id/edit",component:Te},{path:"clients/:id/delete",component:Ie},{path:"clients/:id/status",component:Ee},{path:"clients/:id/add-account",component:Pe},{path:"transactions",component:Xe,children:[{path:"virement",component:fe},{path:"operation",component:tt}]}]}],nt=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ie({type:n});static \u0275inj=te({imports:[D.forChild(Hn),D]})};var At=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=ie({type:n});static \u0275inj=te({imports:[w,R,Q,D,nt,Ke,fe]})};export{At as BanqueModule};
